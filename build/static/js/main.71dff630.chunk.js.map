{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/PersonDisplay.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","nameValue","nameHandler","numberValue","numberHandler","submit","onSubmit","value","onChange","type","Filter","text","handleChange","Person","person","handleClick","name","number","onClick","id","PersonDisplay","personsList","map","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","style","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","errorMessage","setErrorMessage","setStyle","useEffect","personsService","returnedPersons","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","newPerson","personObject","some","window","confirm","targetId","find","returnedPerson","newPersons","setTimeout","catch","error","console","log","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.71dff630.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ({ nameValue, nameHandler, numberValue, numberHandler, submit }) => {\n  return (\n      <form onSubmit={submit}>\n        <div>\n          name: <input\n                  value={nameValue}\n                  onChange={nameHandler}\n                />\n        </div>\n        <div>\n          number: <input\n                    value={numberValue}\n                    onChange={numberHandler}\n                  />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ text, handleChange }) => {\n  return (\n    <form>\n      Filter shown contacts <input value={text} onChange={handleChange} />\n    </form>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Person = ({ person, handleClick }) => {\n  return (\n    <div>\n      {person.name} {person.number}\n      <button onClick={() => handleClick(person.id)}>delete</button>\n    </div>\n  )\n}\n\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst PersonDisplay = ({ personsList, handleClick }) => {\n  return (\n    <div>\n      {personsList.map((person) =>\n        <Person key={person.id} person={person} handleClick={handleClick} />\n      )}\n    </div>\n  )\n}\n\nexport default PersonDisplay","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteItem = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, update, deleteItem }\n","const Notification = ({ message, style }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport PersonDisplay from './components/PersonDisplay'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [style, setStyle] = useState('success')\n\n  useEffect(() => {\n    personsService.getAll().then((returnedPersons) => {\n      setPersons(returnedPersons)\n    })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const deletePerson = (id) => {\n    const target = persons.find((person) => person.id === id)\n    if (window.confirm(`Are you sure you want to delete ${target.name}?`)) {\n      personsService.deleteItem(id)\n      setPersons(persons.filter((person) => person.id !== id))\n      setStyle('success')\n      setErrorMessage(`Removed ${target.name}`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 2000)\n    }\n  }\n\n  const updatePerson = (id, newPerson) => {\n    personsService.update(id, newPerson)\n    .then((returnedPerson) => {\n      personsService.getAll().then((newPersons) => {\n        setPersons(\n          newPersons.map((person) =>\n            person.id !== id ? person : returnedPerson\n          )\n        )\n        setStyle('success')\n        setErrorMessage(`Updated ${newPerson}`)\n        setNewName('')\n        setNewNumber('')\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 2000)\n      })\n    })\n    .catch(error => {\n      console.log(error.response.data)\n      setStyle('error')\n      setErrorMessage(error.response.data.error)\n      console.log(typeof(error.response.data))\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 3500)\n    })\n  }\n\n  const personsToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(newFilter.toLowerCase())\n  )\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if (persons.some((person) => person.name === newName)) {\n      if (window.confirm(\n          `${newName} is already included in the phonebook. Would you like to update their number?`) === true) {\n        const targetId = persons.find((person) => person.name === newName)\n        updatePerson(targetId.id, personObject)\n        return\n      }\n      return\n    }\n    personsService.create(personObject)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        console.log(`Added ${newName}`)\n        setStyle('success')\n        setErrorMessage(`Added ${newName}`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 3500)\n      })\n      .catch(error => {\n        console.log(error)\n        setStyle('error')\n        setErrorMessage(error.response.data.error)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 2000)\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter text={newFilter} handleChange={handleFilterChange} />\n      <Notification message={errorMessage} style={style} />\n      <h2>Add a new contact</h2>\n      <PersonForm\n        nameValue={newName}\n        nameHandler={handleNameChange}\n        numberValue={newNumber}\n        numberHandler={handleNumberChange}\n        submit={addPerson}\n      />\n      <h2>Numbers</h2>\n      <PersonDisplay personsList={personsToShow} handleClick={deletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}